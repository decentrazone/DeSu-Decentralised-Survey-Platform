/*! For license information please see main.6a6d41c0.chunk.js.LICENSE.txt */
(this["webpackJsonpsurvey-app"]=this["webpackJsonpsurvey-app"]||[]).push([[0],{18:function(e,t,n){e.exports=n.p+"static/media/flame-sign-up.90821be9.png"},30:function(e,t,n){e.exports=n.p+"static/media/mirage-list-is-empty.f9f126a1.png"},46:function(e,t,n){e.exports=n.p+"static/media/user.1ae3cd84.jpg"},47:function(e,t,n){e.exports=n.p+"static/media/task-done.b351d20f.png"},48:function(e,t,n){e.exports=n.p+"static/media/bermuda-welcome.9963302c.png"},49:function(e,t,n){e.exports=n(85)},54:function(e,t,n){},58:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var r,o,a,c,i,l,u,s=n(0),d=n.n(s),f=n(15),m=n.n(f),p=(n(54),n(5)),h=n(1),v=n(17),b=n(6),g=d.a.createContext(),y=n(11),x=n(24),E=n(2),j=h.b.div(r||(r=Object(E.a)(["\n  max-width: 1200px;\n  align-self: center;\n  justify-self: center;\n  flex: 1;\n"]))),O=n(9),w=h.b.div(o||(o=Object(E.a)(["\n  background-color: rgba(200, 200, 200, 0.1);\n  padding: 50px;\n  margin: 20px;\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n"]))),k=["children"];function C(e){var t=e.children,n=Object(O.a)(e,k);return d.a.createElement(w,n,t)}var S,L,I,N,_=Object(h.b)(j)(a||(a=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  width: 100%;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"])),(function(e){return e.theme.colors.backgroundColor})),A=h.b.h2(c||(c=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),T=h.b.div(i||(i=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-self: stretch;\n  justify-content: center;\n"]))),z=Object(h.b)(C)(l||(l=Object(E.a)(["\n  max-width: 500px;\n  width: 90%;\n"]))),P=h.b.p(u||(u=Object(E.a)(["\n  color: red;\n"]))),q=(n(58),h.b.i(S||(S=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary}))),F=h.b.input(L||(L=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),U=h.b.label(I||(I=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),G=["icon","label","id"];function B(e){var t=e.icon,n=e.label,r=e.id,o=Object(O.a)(e,G);return d.a.createElement("div",{className:"input-field"},t&&d.a.createElement(q,{className:"material-icons prefix"},t),d.a.createElement(F,Object.assign({id:r,type:"text",className:"validate"},o)),d.a.createElement(U,{htmlFor:r},n))}var D,Q=h.b.button(N||(N=Object(E.a)(["\n  background-color: ",";\n  color: ",";\n  border-radius: ",";\n\n  &:hover,\n  &:focus,\n  &:active {\n    background-color: "," !important;\n    filter: brightness(0.9);\n  }\n\n  ","\n"])),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.textColor?e.textColor:e.theme.colors.secondary}),(function(e){return e.rounded?"50px":"2px"}),(function(e){return e.color?e.theme.colors[e.color]:e.theme.colors.primary}),(function(e){return e.block&&"\n    width: 100%;\n  "})),R=["leftIcon","rightIcon","children","large","block","disabled","className"];function Y(e){var t=e.leftIcon,n=e.rightIcon,r=e.children,o=e.large,a=e.block,c=e.disabled,i=e.className,l=Object(O.a)(e,R);return d.a.createElement(Q,Object.assign({},l,{block:a,className:"btn waves-effect waves-light z-depth-0 ".concat(o&&"btn-large"," ").concat(c&&"disabled"," ").concat(i)}),t&&d.a.createElement("i",{className:"material-icons left"},t),r,n&&d.a.createElement("i",{className:"material-icons right"},n))}var J,K,V=h.b.div(D||(D=Object(E.a)(["\n  height: ",";\n  width: ",";\n"])),(function(e){return e.height}),(function(e){return e.width}));function W(e){var t=Object.assign({},e);return d.a.createElement(V,t)}var H=h.b.div(J||(J=Object(E.a)(["\n  object-fit: contain;\n  width: ",";\n  ","\n"])),(function(e){return e.size?e.size:"200px"}),(function(e){return e.clickable&&"cursor: pointer"})),M=h.b.img(K||(K=Object(E.a)(["\n  width: 100%;\n"]))),X=["size","clickable"];function $(e){var t=e.size,n=void 0===t?"200px":t,r=e.clickable,o=Object(O.a)(e,X);return d.a.createElement(H,{size:n,clickable:r},d.a.createElement(M,o))}var Z=n(18),ee=n.n(Z),te=n(59).create({baseURL:"https://chamatt-survey-api.herokuapp.com/"}),ne=localStorage.getItem("user");ne&&(ne=JSON.parse(ne),te.defaults.headers.common={Authorization:"Bearer ".concat(ne.token)});var re=te;function oe(){oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(C){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),c=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var s={};function d(){}function f(){}function m(){}var p={};i(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(w([])));v&&v!==t&&n.call(v,o)&&(p=v);var b=m.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(o,a){function c(){return new t((function(r,c){!function r(o,a,c,i){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,i)}))}i(l.arg)}(o,a,r,c)}))}return r=r?r.then(c,c):c()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=m,i(b,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(y.prototype),i(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var c=new y(l(t,n,r,o),a);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(b),i(b,c,"Generator"),i(b,o,(function(){return this})),i(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=e,c.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function ae(e){var t=e.history,n=Object(s.useContext)(g),r=n.setUser,o=n.user,a=Object(s.useState)(),c=Object(p.a)(a,2),i=c[0],l=c[1],u=Object(s.useState)(),f=Object(p.a)(u,2),m=f[0],h=f[1],v=Object(s.useState)(),b=Object(p.a)(v,2),E=b[0],j=b[1],O=function(){var e=Object(x.a)(oe().mark((function e(n,a){var c,i,l,u;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post("/users/auth",{email:n,password:a});case 3:c=e.sent,re.defaults.headers.common={Authorization:"Bearer ".concat(c.data.token)},i=Object(y.a)(Object(y.a)({},o),{},{isLoggedIn:!0,data:c.data.user,token:c.data.token}),r(i),localStorage.setItem("user",JSON.stringify(i)),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),u=e.t0.response,j((null===u||void 0===u||null===(l=u.data)||void 0===l?void 0:l.message)||"Unexpected error");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),w=function(e){"Enter"===e.key&&O(i,m)};return d.a.createElement(_,null,d.a.createElement($,{src:ee.a}),d.a.createElement(A,null,"Sign In"),d.a.createElement(z,null,d.a.createElement("form",{className:"col s12",onSubmit:function(){return O(i,m)}},d.a.createElement(B,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email",value:i,onChange:function(e){return j()||l(e.target.value)},onKeyPress:w}),d.a.createElement(B,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:m,onChange:function(e){return j()||h(e.target.value)},onKeyPress:w})),d.a.createElement(P,null,E),d.a.createElement(W,{height:"20px"}),d.a.createElement(T,null,d.a.createElement(Y,{onClick:function(){return O(i,m)}},"Sign In"),d.a.createElement(W,{height:"20px"}),d.a.createElement(Y,{onClick:function(){return t.push("/register")},color:"purple"},"Create Account"))))}var ce,ie,le,ue,se,de,fe,me,pe,he,ve,be,ge,ye,xe,Ee,je,Oe,we,ke,Ce,Se,Le,Ie,Ne={colors:{backgroundColor:"#3646AA",primary:"#5CD4A0",secondary:"#F2F2F2",danger:"#9B291F",purple:"#8e44ad",textNormal:"#3C4659",textLight:"#ADADC4",red:"#8F0000",green:"#3FA69A"}},_e=(n(76),h.b.div(ce||(ce=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  align-self: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n  margin-bottom: 50px;\n"])),(function(e){return e.theme.colors.backgroundColor}))),Ae=h.b.div(ie||(ie=Object(E.a)(["\n  display: flex;\n  justify-content: stretch;\n  align-items: flex-start;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n"]))),Te=h.b.h2(le||(le=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),ze=h.b.div(ue||(ue=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Pe=h.b.h6(se||(se=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),qe=h.b.div(de||(de=Object(E.a)(["\n  background-color: ",";\n  box-shadow: 0px 5px 10px rgba(200, 150, 150, 0.1);\n  margin-right: 15px;\n  margin-left: 15px;\n  padding: 40px;\n  border-radius: 15px;\n  margin-bottom: 30px;\n\n  @media (min-width: 1025px) {\n    width: calc(33% - 30px);\n    flex-basis: calc(33% - 30px);\n  }\n  @media (max-width: 1024px) {\n    width: calc(50% - 30px);\n    flex-basis: calc(50% - 30px);\n  }\n  @media (max-width: 768px) {\n    width: calc(100% - 30px);\n    flex-basis: calc(100% - 30px);\n  }\n"])),(function(e){return e.theme.colors.secondary})),Fe=h.b.p(fe||(fe=Object(E.a)(["\n  font-weight: bold;\n  color: ",";\n  font-size: 1.3rem;\n  margin: 0;\n"])),(function(e){return e.theme.colors.textNormal})),Ue=(h.b.div(me||(me=Object(E.a)(["\n  height: 80px;\n  max-width: 150px;\n  margin-right: 20px;\n"]))),h.b.img(pe||(pe=Object(E.a)(["\n  object-fit: contain;\n  height: 100%;\n  border-radius: 15px;\n"]))),h.b.p(he||(he=Object(E.a)(["\n  color: ",";\n  font-size: 1.1rem;\n  margin: 0;\n"])),(function(e){return e.theme.colors.textNormal}))),Ge=h.b.div(ve||(ve=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: row;\n  overflow: hidden;\n"]))),Be=h.b.div(be||(be=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  flex-direction: column;\n"]))),De=h.b.div(ge||(ge=Object(E.a)([""]))),Qe=h.b.p(ye||(ye=Object(E.a)(["\n  font-size: 1rem;\n  color: ",";\n"])),(function(e){return e.theme.colors.textNormal})),Re=h.b.div(xe||(xe=Object(E.a)(["\n  padding-top: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: stretch;\n"]))),Ye=n(8),Je=Object(b.g)((function(e){var t,n,r=e.history,o=e.title,a=void 0===o?"IT Executive Compensation Study":o,c=e.numQuestions,i=e.status,l=e.refetchData,u=void 0===l?function(){}:l,f=e.surveyId,m=void 0===f?"123":f,p=Object(s.useContext)(g).user,h="IDLE"===(null===i||void 0===i?void 0:i.toUpperCase()),v="ACTIVE"===(null===i||void 0===i?void 0:i.toUpperCase()),b="COORDINATOR"===(null===p||void 0===p||null===(t=p.data)||void 0===t||null===(n=t.role)||void 0===n?void 0:n.toUpperCase()),y=function(e){return re.put("".concat("/surveys","/status/")+m,{status:e}).then(u)};return d.a.createElement(qe,null,d.a.createElement(Ge,null,d.a.createElement(Be,null,d.a.createElement(Ue,null,d.a.createElement("i",{className:"material-icons left"},"event_note"),"Survey"),d.a.createElement(Fe,null,a))),d.a.createElement(De,null,d.a.createElement(Qe,null,c," question",1!==c?"s":""," (",.25*c," minute",4!==c?"s":"",")")),d.a.createElement(Re,null,h?d.a.createElement(Y,{color:"primary",rounded:!0,onClick:function(){y("ACTIVE").then((function(){return Ye.b.success("Survey moved to active.")})).catch((function(){return Ye.b.error("Error moving survey to active.")}))}},"Open Survey"):d.a.createElement(Y,{color:v?"purple":"green",rounded:!0,onClick:function(){return v?r.push("".concat("/survey","/").concat(m)):r.push("".concat("/results","/").concat(m))}},v?"Take Survey":"See Results"),b&&v&&d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{height:"15px"}),d.a.createElement(Y,{color:"red",rounded:!0,onClick:function(){y("CLOSED").then((function(){return Ye.b.success("Survey moved to closed.")})).catch((function(){return Ye.b.error("Error moving survey to closed.")}))}},"Close Survey"))))})),Ke=h.b.div(Ee||(Ee=Object(E.a)(["\n  height: 80px;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 30px;\n  min-width: 100%;\n  margin-top: 30px;\n"]))),Ve=h.b.div(je||(je=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),We=h.b.div(Oe||(Oe=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]))),He=h.b.div(we||(we=Object(E.a)(["\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n"]))),Me=Object(h.b)(C)(ke||(ke=Object(E.a)(["\n  margin: 0;\n  padding: 10px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n"]))),Xe=h.b.p(Ce||(Ce=Object(E.a)(["\n  margin: 0;\n  padding-right: 15px;\n  padding-left: 15px;\n  color: ",";\n  font-weight: bold;\n"])),(function(e){return e.theme.colors.secondary})),$e=h.b.span(Se||(Se=Object(E.a)(["\n  cursor: pointer;\n  color: red;\n"]))),Ze=h.b.div(Le||(Le=Object(E.a)(["\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  overflow: hidden;\n"])),(function(e){return e.size}),(function(e){return e.size})),et=h.b.img(Ie||(Ie=Object(E.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: cover;\n"]))),tt=["src","size"];function nt(e){var t=e.src,n=e.size,r=Object(O.a)(e,tt);return d.a.createElement(Ze,{size:n},d.a.createElement(et,Object.assign({src:t},r)))}var rt=n(46),ot=n.n(rt);var at,ct,it,lt=Object(b.g)((function(e){var t,n,r=e.history,o=e.createSurvey,a=void 0===o||o,c=e.showUser,i=void 0===c||c,l=e.showHome,u=void 0!==l&&l,f=e.leftButtons,m=Object(s.useContext)(g),p=m.user,h=m.setUser,v="COORDINATOR"===(null===p||void 0===p||null===(t=p.data)||void 0===t||null===(n=t.role)||void 0===n?void 0:n.toUpperCase()),b=(null===p||void 0===p?void 0:p.isLoggedIn)?d.a.createElement("p",{style:{color:"white"}},"Welcome, ",p.data.name,"!"," ",d.a.createElement($e,{onClick:function(){localStorage.removeItem("user"),h({isLoggedIn:!1}),re.defaults.headers.common.Authorization=void 0}}," ","Logout")):d.a.createElement(Me,{onClick:function(){return r.push("/login")}},d.a.createElement(Xe,null,"Login"),d.a.createElement(nt,{size:"25px",src:ot.a}));return d.a.createElement(Ke,null,d.a.createElement(Ve,null,u?d.a.createElement($e,{onClick:function(){return r.push("/")}},"Home"):a&&v&&d.a.createElement(Y,{color:"green",onClick:function(){return r.push("/create")}},"Create New Survey"),f&&f),d.a.createElement(He,null,d.a.createElement($,{clickable:!0,size:"50px",src:ee.a,onClick:function(){return r.push("/")}})),d.a.createElement(We,null,i&&b))})),ut=n(30),st=n.n(ut);function dt(){var e=Object(s.useState)(!0),t=Object(p.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)(),a=Object(p.a)(o,2),c=a[0],i=a[1],l=Object(s.useState)(),u=Object(p.a)(l,2),f=u[0],m=u[1],h=Object(s.useState)(),v=Object(p.a)(h,2),b=v[0],y=v[1],x=Object(s.useContext)(g).user,E=function(){re.get("/surveys/").then((function(e){var t,n,o;r(!1),i(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.filter((function(e){return"CLOSED"===e.status}))),m(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.filter((function(e){return"ACTIVE"===e.status}))),y(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.filter((function(e){return"IDLE"===e.status})))})).catch((function(e){e.response;r(!1)}))};return Object(s.useEffect)(E,[x]),d.a.createElement(_e,null,d.a.createElement(lt,null),d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{height:"50px"}),d.a.createElement(Te,null,"Active Surveys"),d.a.createElement(W,{height:"20px"}),!(null===f||void 0===f?void 0:f.length)&&d.a.createElement(ze,null,d.a.createElement($,{src:st.a}),d.a.createElement(Pe,null," No Active Surveys Available")),d.a.createElement(Ae,null,!n&&(null===f||void 0===f?void 0:f.length)&&(null===f||void 0===f?void 0:f.map((function(e){return d.a.createElement(Je,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:E})}))))),!n&&(null===b||void 0===b?void 0:b.length)>0&&d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{height:"50px"}),d.a.createElement(Te,null,"Idle Surveys"),d.a.createElement(W,{height:"20px"}),d.a.createElement(Ae,null,null===b||void 0===b?void 0:b.map((function(e){return d.a.createElement(Je,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:E})})))),d.a.createElement(d.a.Fragment,null,d.a.createElement(W,{height:"50px"}),d.a.createElement(Te,null,"Closed Surveys"),d.a.createElement(W,{height:"20px"}),!(null===c||void 0===c?void 0:c.length)&&d.a.createElement(ze,null,d.a.createElement($,{src:st.a}),d.a.createElement(Pe,null," No Closed Surveys Available")),d.a.createElement(Ae,null,!n&&(null===c||void 0===c?void 0:c.length)&&(null===c||void 0===c?void 0:c.map((function(e){return d.a.createElement(Je,{key:e.id,title:e.title,surveyId:e.id,numQuestions:e.questions.length,status:e.status,refetchData:E})}))))))}var ft,mt,pt,ht,vt,bt=h.b.div(at||(at=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  cursor: pointer;\n"]))),gt=h.b.p(ct||(ct=Object(E.a)(["\n  color: ",";\n"])),(function(e){return Ne.colors.secondary})),yt=h.b.i(it||(it=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary}));function xt(e){e.icon;var t=e.onClick,n=e.children;return d.a.createElement(bt,{onClick:t},d.a.createElement(yt,{className:"material-icons prefix"},"chevron_left"),d.a.createElement(gt,null,n))}function Et(){Et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(C){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),c=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var c=n.delegate;if(c){var i=x(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=l;var s={};function d(){}function f(){}function m(){}var p={};i(p,o,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(w([])));v&&v!==t&&n.call(v,o)&&(p=v);var b=m.prototype=d.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){i(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(o,a){function c(){return new t((function(r,c){!function r(o,a,c,i){var l=u(e[o],e,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,c,i)}),(function(e){r("throw",e,c,i)})):t.resolve(d).then((function(e){s.value=e,c(s)}),(function(e){return r("throw",e,c,i)}))}i(l.arg)}(o,a,r,c)}))}return r=r?r.then(c,c):c()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return f.prototype=m,i(b,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(y.prototype),i(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var c=new y(l(t,n,r,o),a);return e.isGeneratorFunction(n)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},g(b),i(b,c,"Generator"),i(b,o,(function(){return this})),i(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(i&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var c=a?a.completion:{};return c.type=e,c.arg=t,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}function jt(e){var t=e.history,n=Object(s.useContext)(g),r=n.user,o=n.setUser,a=Object(s.useState)(),c=Object(p.a)(a,2),i=c[0],l=c[1],u=Object(s.useState)(),f=Object(p.a)(u,2),m=f[0],h=f[1],v=Object(s.useState)(),b=Object(p.a)(v,2),E=b[0],j=b[1],O=Object(s.useState)(),w=Object(p.a)(O,2),k=w[0],C=w[1],S=Object(s.useState)(),L=Object(p.a)(S,2),I=L[0],N=L[1],q=function(){var e=Object(x.a)(Et().mark((function e(){var n,a,c,l;return Et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&m&&E&&k){e.next=3;break}return N("Please, fill all data."),e.abrupt("return");case 3:return e.prev=3,e.next=6,re.post("/users",{email:i,password:m,username:E,name:k});case 6:n=e.sent,re.defaults.headers.common={Authorization:"Bearer ".concat(n.data.token)},a=Object(y.a)(Object(y.a)({},r),{},{isLoggedIn:!0,data:n.data.user,token:n.data.token}),o(a),localStorage.setItem("user",JSON.stringify(a)),t.push("/"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),l=e.t0.response,N((null===l||void 0===l||null===(c=l.data)||void 0===c?void 0:c.message)||(null===l||void 0===l?void 0:l.data)||"Unexpected error");case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),F=function(e){"Enter"===e.key&&q()};return d.a.createElement(_,null,d.a.createElement($,{src:ee.a}),d.a.createElement(A,null,"Sign Up"),d.a.createElement(z,{width:"50%"},d.a.createElement(xt,{onClick:function(){return t.push("/login")}},"Back to Login"),d.a.createElement("form",{className:"col s12"},d.a.createElement(B,{id:"email",name:"email",icon:"mail_outline",type:"email",label:"Email",value:i,onChange:function(e){return l(e.target.value)},onKeyPress:F,required:!0}),d.a.createElement(B,{id:"password",name:"password",icon:"lock_outline",type:"password",label:"Password",value:m,onChange:function(e){return h(e.target.value)},onKeyPress:F,required:!0}),d.a.createElement(B,{id:"username",name:"username",icon:"person_outline",type:"text",label:"Username",value:E,onChange:function(e){return j(e.target.value)},onKeyPress:F,required:!0}),d.a.createElement(B,{id:"fullname",name:"fullname",icon:"face",type:"text",label:"Full Name",value:k,onChange:function(e){return C(e.target.value)},onKeyPress:F,required:!0})),d.a.createElement(P,null,I),d.a.createElement(W,{height:"20px"}),d.a.createElement(T,null,d.a.createElement(Y,{color:"purple",onClick:q},"Create Account"))))}var Ot,wt,kt,Ct,St,Lt,It,Nt,_t,At,Tt=Object(h.b)(j)(ft||(ft=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundColor})),zt=h.b.h2(mt||(mt=Object(E.a)(["\n  color: ",";\n"])),(function(e){return e.theme.colors.secondary})),Pt=h.b.p(pt||(pt=Object(E.a)(["\n  color: white;\n"]))),qt=Object(h.b)(C)(ht||(ht=Object(E.a)(["\n  width: 90%;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 50px;\n  padding-left: 20px;\n  padding-right: 20px;\n  color: ",";\n\n  @media (min-width: 900px) {\n    padding-left: 60px;\n    padding-right: 60px;\n  }\n"])),(function(e){return e.theme.colors.secondary})),Ft=h.b.h2(vt||(vt=Object(E.a)(["\n  font-weight: bold;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-size: 2.5em;\n"]))),Ut=n(23),Gt=h.b.div(Ot||(Ot=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  border: 1px solid #ffffff0f;\n  transition: all 0.1s;\n\n  &:hover {\n    background-color: rgba(100, 100, 110, 0.1);\n    i {\n      color: ",";\n    }\n  }\n\n  ","\n\n  ","\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.selected&&"\n    background-color: ".concat(e.theme.colors.secondary," !important;\n    color: ").concat(e.theme.colors.textNormal,";\n    box-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);\n    ")}),(function(e){return e.percentage&&"background-image: linear-gradient(90deg, ".concat(e.theme.colors.secondary,"44 ").concat(parseInt(100*e.percentage- -1),"%, transparent ").concat(parseInt(100*e.percentage),"%, transparent  ").concat(parseInt(101-100*e.percentage),"%);\n        border-right: none;\n        ")})),Bt=h.b.div(wt||(wt=Object(E.a)(["\n  flex: 1;\n  padding: 15px 5px;\n  padding-left: 15px;\n"]))),Dt=h.b.p(kt||(kt=Object(E.a)(["\n  font-size: 1.3rem;\n  user-select: none;\n\n  @media (max-width: 900px) {\n    font-size: 1.1rem;\n  }\n\n  ","\n"])),(function(e){return e.selected&&"\n    color: ".concat(e.theme.colors.textNormal,";\n    ")})),Qt=h.b.i(Ct||(Ct=Object(E.a)(["\n  user-select: none;\n  padding: 20px;\n  font-size: 2rem;\n  ","\n"])),(function(e){return e.selected&&"color: ".concat(e.theme.colors.primary,";")})),Rt=h.b.div(St||(St=Object(E.a)(["\n  padding-right: 10px;\n"])));function Yt(e){var t=e.text,n=void 0===t?"Lorem ipsum dolor sit amet, consectetur adipiscing elit.":t,r=e.answerId,o=e.questionId,a=e.selected,c=void 0!==a&&a,i=e.selections,l=e.onSelect,u=void 0===l?function(){}:l,s=(e.id,e.showResults),f=void 0!==s&&s,m=e.resultPercent;return d.a.createElement(Gt,{selected:c,onClick:function(){u(Object(y.a)(Object(y.a)({},i),{},Object(Ut.a)({},o,r)))},percentage:m},d.a.createElement(Bt,null,d.a.createElement(Dt,null,n)),f?d.a.createElement(Rt,null,"".concat(parseInt(100*m),"%")):d.a.createElement(Qt,{className:"material-icons",selected:c},c?"check_box":"check_box_outline_blank"))}function Jt(e){e.history;var t=e.match,n=Object(s.useState)(),r=Object(p.a)(n,2),o=r[0],a=r[1];return Object(s.useEffect)((function(){re.get("/surveys/".concat(t.params.id,"/result")).then((function(e){a(null===e||void 0===e?void 0:e.data)})).catch()}),[t.params.id]),d.a.createElement(Tt,null,d.a.createElement(lt,null),o&&d.a.createElement(d.a.Fragment,null,d.a.createElement(zt,null,o.title),d.a.createElement(Pt,null,o.description),function(e){var t;return null===e||void 0===e||null===(t=e.questions)||void 0===t?void 0:t.map((function(e){var t,n=e.result.reduce((function(e,t){return t+e}),0);return d.a.createElement(qt,{key:e.id},d.a.createElement(Ft,null,"Question: "+e.title),null===e||void 0===e||null===(t=e.options)||void 0===t?void 0:t.map((function(t,r){return d.a.createElement(Yt,{key:r,questionId:e.id,answerId:t,text:t,showResults:!0,resultPercent:n?e.result[r]/n:0})})))}))}(o)))}var Kt=Object(h.b)(j)(Lt||(Lt=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundColor})),Vt=Object(h.b)(C)(It||(It=Object(E.a)(["\n  width: 90%;\n  margin-left: 15px;\n  margin-right: 15px;\n  margin-bottom: 50px;\n  padding-left: 20px;\n  padding-right: 20px;\n  color: ",";\n\n  @media (min-width: 900px) {\n    padding-left: 60px;\n    padding-right: 60px;\n  }\n"])),(function(e){return e.theme.colors.secondary})),Wt=h.b.h2(Nt||(Nt=Object(E.a)(["\n  font-weight: bold;\n  padding-left: 20px;\n  padding-right: 20px;\n  font-size: 2.5em;\n"]))),Ht=h.b.div(_t||(_t=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  padding-top: 50px;\n"]))),Mt=h.b.div(At||(At=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n"]))),Xt=n(47),$t=n.n(Xt),Zt=n(48),en=n.n(Zt),tn=["questions"];function nn(e){var t=e.history,n=e.match,r=Object(s.useState)({}),o=Object(p.a)(r,2),a=o[0],c=o[1],i=Object(s.useState)(!1),l=Object(p.a)(i,2),u=l[0],f=l[1],m=Object(s.useState)({}),h=Object(p.a)(m,2),v=h[0],y=h[1],x=Object(s.useContext)(g).user;if(Object(s.useEffect)((function(){f(!0),re.get("/surveys/".concat(n.params.surveyId)).then((function(e){f(!1),y(e.data)})).catch((function(e){e.response;f(!1)}))}),[x]),u)return d.a.createElement(Kt,null);var E=v.questions,j=Object(O.a)(v,tn),w=function(){on(an(n.url),E)?t.push("".concat(rn(n.url),"/").concat(on(an(n.url),E))):t.push("".concat("/survey","/").concat(n.params.surveyId,"/complete"))};return d.a.createElement(Kt,null,d.a.createElement(lt,null),d.a.createElement(b.b,{exact:!0,path:"/survey/:surveyId"},d.a.createElement(Vt,null,d.a.createElement(xt,{onClick:function(){return t.goBack()}},"Back to surveys"),d.a.createElement(Mt,null,d.a.createElement(Wt,null,"Take a quick survey"),d.a.createElement(W,{height:"20px"}),d.a.createElement($,{src:en.a}),d.a.createElement(W,{height:"20px"}),d.a.createElement("div",null,null===E||void 0===E?void 0:E.length," QUESTION",1!==(null===E||void 0===E?void 0:E.length)?"S":""),d.a.createElement("div",null," ",.25*(null===E||void 0===E?void 0:E.length)," MINUTE",4!==(null===E||void 0===E?void 0:E.length)?"S":"")),d.a.createElement("p",{className:"center"},!u&&v.taken&&"You already completed this survey"),!u&&d.a.createElement(Ht,null,v.taken?d.a.createElement(Y,{large:!0,block:!0,color:"secondary",textColor:Ne.colors.textNormal,leftIcon:"chevron_left",onClick:function(){return t.goBack()}},"Go back"):d.a.createElement(Y,{large:!0,block:!0,color:"secondary",textColor:Ne.colors.textNormal,rightIcon:"chevron_right",onClick:function(){return t.push("/survey/".concat(n.params.surveyId,"/questions/").concat(E[0].id))}},"Start Now")))),null===E||void 0===E?void 0:E.map((function(e,r){return d.a.createElement(b.b,{key:e.id,exact:!0,path:"".concat(rn(n.path),"/").concat(e.id)},d.a.createElement(Vt,null,d.a.createElement(xt,{onClick:function(){return t.goBack()}},r>0?"Previous Question":"Go back"),d.a.createElement(Wt,null,e.title),d.a.createElement(W,{height:"20px"}),e.options.map((function(t){return d.a.createElement(Yt,{key:t,questionId:e.id,answerId:t,text:t,selected:a[e.id]===t,selections:a,onSelect:c})})),d.a.createElement(Ht,null,d.a.createElement(Y,{large:!0,block:!0,disabled:!a[an(n.url)],color:"secondary",textColor:Ne.colors.textNormal,rightIcon:"chevron_right",onClick:w},"Next"))))})),d.a.createElement(b.b,{exact:!0,path:"/survey/:surveyId/complete"},d.a.createElement(Vt,{center:!0},d.a.createElement(xt,{onClick:function(){return t.goBack()}},"Go back"),d.a.createElement(Mt,null,d.a.createElement(Wt,null,"Survey Completed"),d.a.createElement(W,{height:"20px"}),d.a.createElement($,{src:$t.a}),d.a.createElement(W,{height:"20px"})),d.a.createElement(Ht,null,d.a.createElement(Y,{large:!0,color:"danger",leftIcon:"cancel",onClick:function(){return t.push("/surveys")}},"Cancel"),d.a.createElement(W,{width:"40px"}),d.a.createElement(Y,{large:!0,color:"secondary",textColor:Ne.colors.textNormal,leftIcon:"check_circle",onClick:function(){var e={survey:j.id,answers:[]};e.answers=Object.entries(a).map((function(e){var t=Object(p.a)(e,2);return{question:t[0],answer:t[1]}})),re.post("/entries",e).then((function(){Ye.b.success("\u2611 Survey submitted successfuly!"),t.push("/")})).catch((function(e){var t,n;Ye.b.error("Error submiting survey: "+(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message))}))}},"Submit")))))}function rn(e){return e.split("/").slice(0,-1).join("/")}function on(e,t){var n=t.findIndex((function(t){return t.id===e})),r=t[n+1];return(null===r||void 0===r?void 0:r.id)?r.id:null}function an(e){return e.split("/").slice(-1).join("")}var cn,ln,un,sn,dn,fn,mn,pn,hn,vn,bn,gn,yn,xn,En,jn,On,wn,kn,Cn=n(16),Sn=Object(h.b)(j)(cn||(cn=Object(E.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex: 1;\n  flex-direction: column;\n  background-color: ",";\n  max-width: 1200px;\n  width: 100%;\n"])),(function(e){return e.theme.colors.backgroundColor})),Ln=h.b.div(ln||(ln=Object(E.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  width: 100%;\n  margin-top: 50px;\n"]))),In=h.b.div(un||(un=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  min-height: 600px;\n  flex: 1;\n  margin-left: 15px;\n  margin-right: 15px;\n\n  text-overflow: ellipsis;\n"]))),Nn=h.b.div(sn||(sn=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  border-left: ",";\n  &:hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n\n  ","\n"])),(function(e){return e.theme.colors.secondary}),(function(e){return"".concat(e.theme.colors.secondary,"0f")}),(function(e){return e.selected?"border-left: 4px solid ".concat(e.theme.colors.secondary,";\n        color: ").concat(e.theme.colors.secondary,";\n  font-weight: bold;"):"border-left: 4px solid ".concat(e.theme.colors.secondary,"44;\n      color: ").concat(e.theme.colors.secondary,"44;\n  font-weight: normal;")})),_n=h.b.div(dn||(dn=Object(E.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  padding: 20px;\n"]))),An=(h.b.p(fn||(fn=Object(E.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"]))),h.b.p(mn||(mn=Object(E.a)(["\n  font-size: 1.3em;\n  margin: 0;\n"])))),Tn=h.b.div(pn||(pn=Object(E.a)([""]))),zn=h.b.div(hn||(hn=Object(E.a)(["\n  display: flex;\n  flex: 4;\n  min-height: 600px;\n"]))),Pn=Object(h.b)(C)(vn||(vn=Object(E.a)(["\n  width: 100%;\n"]))),qn=Object(h.b)(Y)(bn||(bn=Object(E.a)(["\n  margin: 15px !important;\n  width: auto;\n"]))),Fn=Object(h.b)(B)(gn||(gn=Object(E.a)(["\n  font-size: 30px !important;\n  line-height: 30px !important;\n  height: 60px !important;\n  display: flex;\n  flex: 1;\n\n  & input {\n    font-size: 30px;\n    line-height: 30px;\n  }\n  & + label {\n    font-size: 30px;\n    line-height: 10px;\n    pointer-events: none;\n    padding-bottom: 5px;\n  }\n"]))),Un=h.b.div(yn||(yn=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),Gn=h.b.input(xn||(xn=Object(E.a)(["\n  color: ",";\n\n  background-color: transparent;\n  border: none !important;\n  box-shadow: none !important;\n  margin-bottom: 0 !important;\n\n  &:focus {\n    border: none !important;\n    box-shadow: none !important;\n  }\n"])),(function(e){return e.theme.colors.secondary})),Bn=h.b.i(En||(En=Object(E.a)(["\n  color: "," !important;\n\n  ","\n"])),(function(e){return e.theme.colors.secondary}),(function(e){return e.danger&&"\n    color: ".concat(e.theme.colors.danger," !important;\n  ")})),Dn=h.b.div(jn||(jn=Object(E.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n"]))),Qn=h.b.div(On||(On=Object(E.a)(["\n  cursor: pointer;\n"]))),Rn=h.b.div(wn||(wn=Object(E.a)(["\n  margin-top: 30px;\n"]))),Yn=Object(h.b)(Fn)(kn||(kn=Object(E.a)(["\n  border-bottom: none !important;\n  margin-bottom: 0 !important;\n  text-align: center;\n"]))),Jn=n(25),Kn={title:"",options:[""]};function Vn(e){var t=e.history,n=Object(s.useState)([Object(y.a)({},Kn)]),r=Object(p.a)(n,2),o=r[0],a=r[1],c=Object(s.useState)(0),i=Object(p.a)(c,2),l=i[0],u=i[1],f=Object(s.useState)([]),m=Object(p.a)(f,2),h=m[0],v=m[1],b=Object(s.useState)(""),g=Object(p.a)(b,2),x=g[0],E=g[1],j=Object(s.useState)(""),O=Object(p.a)(j,2),w=O[0],k=O[1];Object(s.useEffect)((function(){var e;v((null===(e=o[l])||void 0===e?void 0:e.options)||[])}),[l]),Object(s.useEffect)((function(){var e;E((null===(e=o[l])||void 0===e?void 0:e.title)||"")}),[l]);Object(s.useEffect)((function(){Object(Jn.debounce)((function(){return function(e,t){var n=Object(Cn.a)(o);n[e].options=t||h,a(n)}(l,h)}),100)()}),[h]),Object(s.useEffect)((function(){Object(Jn.debounce)((function(){return function(e,t){var n=Object(Cn.a)(o);n[e].title=t||x,a(n)}(l,x)}),100)()}),[x]);var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"IDLE",n={title:w,description:"",questions:o.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{options:Object(Jn.uniqBy)(e.options,(function(e){return e}))})})),status:e};o.some((function(e){return!e.title}))?Ye.b.error("Error: Some question(s) are untitled"):o.some((function(e){return e.options.some((function(e){return!e}))}))?Ye.b.error("Error: Some options(s) are empty!"):re.post("/surveys",n).then((function(){Ye.b.success("\u2611 Survey created successfuly!"),t.push("/")})).catch((function(e){var t,n;Ye.b.error("Error creating survey: "+(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||!1)}))};return d.a.createElement(Sn,null,d.a.createElement(lt,{createSurvey:!1,leftButtons:[d.a.createElement(qn,{key:"".concat("CANCEL","-BUTTON"),color:"danger",onClick:function(){return t.push("/surveys")}},"Cancel"),d.a.createElement(qn,{key:"".concat("ACTIVE","-BUTTON"),color:"green",onClick:function(){return C("ACTIVE")}},"Save And Publish"),d.a.createElement(qn,{key:"".concat("IDLE","-BUTTON"),color:"purple",onClick:function(){return C("IDLE")}},"Save")]}),d.a.createElement(Rn,null,d.a.createElement(Yn,{placeholder:"Survey Title",value:w,onChange:function(e){return k(e.target.value)}})),d.a.createElement(Ln,null,d.a.createElement(In,null,d.a.createElement(qn,{color:"green",rightIcon:"add",onClick:function(){o.length>=10?Ye.b.error("You can only have up to 10 questions"):a([].concat(Object(Cn.a)(o),[Object(y.a)({},Kn)]))}},"New Question"),null===o||void 0===o?void 0:o.map((function(e,t){return d.a.createElement(Nn,{key:t,selected:l===t,onClick:function(){return function(e){u(e)}(t)}},d.a.createElement(_n,null,d.a.createElement(An,null,e.title||"Untitled")))})),d.a.createElement(W,{height:"10px;"})),d.a.createElement(zn,null,d.a.createElement(Pn,null,d.a.createElement(Dn,null,d.a.createElement(Fn,{onChange:function(e){var t=e.target.value;E(t)},value:x,placeholder:"Question Title",maxLength:"250"}),d.a.createElement(Tn,null,d.a.createElement(qn,{color:"danger",onClick:function(){return function(e){if(1!==o.length){var t=Object(Cn.a)(o);t.splice(e,1),a(t),u(0)}else Ye.b.error("You need at least one question")}(l)}},d.a.createElement(Bn,{className:"material-icons left"},"cancel"),"Delete Question"))),h.map((function(e,t){return d.a.createElement(Un,{key:t},d.a.createElement(Bn,{className:"material-icons left"},"menu"),d.a.createElement(Gn,{placeholder:"Option",value:e,onChange:function(e){return function(e,t){var n=e.target.value,r=Object(Cn.a)(h);r[t]=n,v(r)}(e,t)},maxLength:"250"}),d.a.createElement(Qn,{onClick:function(){return function(e){if(1!==h.length){var t=Object(Cn.a)(h);t.splice(e,1),v(t)}else Ye.b.error("You need at least one option")}(t)}},d.a.createElement(Bn,{className:"material-icons left"},"cancel")))})),d.a.createElement(qn,{color:"green",rightIcon:"add",onClick:function(){if(h.length>=5)Ye.b.error("You can only add a maximum of 5 options");else{var e=[].concat(Object(Cn.a)(h),[""]);v(e)}}},"Add")))))}var Wn=["component"],Hn=function(e){var t,n,r=e.component,o=Object(O.a)(e,Wn),a=Object(s.useContext)(g).user,c="COORDINATOR"===(null===a||void 0===a||null===(t=a.data)||void 0===t||null===(n=t.role)||void 0===n?void 0:n.toUpperCase());return d.a.createElement(b.b,Object.assign({},o,{render:function(e){return!0===c?d.a.createElement(r,e):d.a.createElement(b.a,{to:"/"})}}))};n(83),n(84);var Mn=function(){var e=Object(s.useState)({isLoggedIn:!1}),t=Object(p.a)(e,2),n=t[0],r=t[1];return Object(s.useEffect)((function(){var e=localStorage.getItem("user");e&&(e=JSON.parse(e),r(e))}),[]),d.a.createElement(h.a,{theme:Ne},d.a.createElement(g.Provider,{value:{user:n,setUser:r}},d.a.createElement(v.a,{basename:"/"},d.a.createElement(b.d,null,d.a.createElement(Hn,{path:"/create",component:Vn}),d.a.createElement(b.b,{exact:!0,path:"".concat("/survey","/:surveyId/complete"),component:nn}),d.a.createElement(b.b,{exact:!0,path:"".concat("/survey","/:surveyId"),component:nn}),d.a.createElement(b.b,{exact:!0,path:"".concat("/survey","/:surveyId/questions/:questionId"),component:nn}),d.a.createElement(b.b,{path:"/register",component:jt}),d.a.createElement(b.b,{path:"".concat("/results","/:id"),component:Jt,exact:!0}),d.a.createElement(b.b,{path:"/login",component:ae}),d.a.createElement(b.b,{path:"/",component:dt}))),d.a.createElement(Ye.a,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));m.a.render(d.a.createElement(Mn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[49,1,2]]]);
//# sourceMappingURL=main.6a6d41c0.chunk.js.map